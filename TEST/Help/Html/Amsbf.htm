<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<title> AM: Smart Business Server</title>
<LINK rel=stylesheet type=text/css href="style_topic.css">
<SCRIPT LANGUAGE="JavaScript">
<!-- Begin
loadImage1 = new Image();
loadImage1.src = "../images/help_home_Button_01_Roll-over.gif";
staticImage1 = new Image();
staticImage1.src = "../images/help_home_Button_01_Roll-out.gif";

loadImage2 = new Image();
loadImage2.src = "../images/help_home_Button_02_Roll-over.gif";
staticImage2 = new Image();
staticImage2.src = "../images/help_home_Button_02_Roll-out.gif";

loadImage3 = new Image();
loadImage3.src = "../images/help_home_Button_03_Roll-over.gif";
staticImage3 = new Image();
staticImage3.src = "../images/help_home_Button_03_Roll-out.gif";

loadImage4 = new Image();
loadImage4.src = "../images/help_home_Button_04_Roll-over.gif";
staticImage4 = new Image();
staticImage4.src = "../images/help_home_Button_04_Roll-out.gif";

// End -->
</SCRIPT>

</head>
<body lang=it topMargin=3>
<TABLE width=987 border=0><TR><TD vAlign=top align=right><p><code>Data ultimo aggiornamento: <A name=hINIeDATlAGGp></A>01/06/2016</FONT><A name=hFINeDATlAGGp></A></code></p></TD></TR></TABLE><TABLE cellSpacing=0 border=0><TR><TD colSpan=4><A href="http://www.ntsinformatica.it"><IMG border=0 alt="Clicca per accedere al sito di NTS Informatica" src="../images/help_home_banner.gif"></A></TD></TR></TABLE><TABLE cellSpacing=0 cellPadding=0 border=0><TR><TD align=left><A onmouseover="image1.src=loadImage1.src;" onmouseout="image1.src=staticImage1.src;" href="cose.htm"><IMG border=0 name=image1 alt="Clicca per accedere all'argomento" src="../images/help_home_Button_01_Roll-out.gif"></A></TD><TD align=center><A onmouseover="image2.src=loadImage2.src;" onmouseout="image2.src=staticImage2.src;" href="pc.htm"><IMG border=0 name=image2 alt="Clicca per accedere all'argomento" src="../images/help_home_Button_02_Roll-out.gif"></A></TD><TD align=center><A href="ambsargmod.htm"><IMG border=0 name=image3 alt="Clicca per accedere all'argomento" src="../images/help_home_Button_03_Roll-over.gif"></A></TD><TD align=right><A onmouseover="image4.src=loadImage4.src;" onmouseout="image4.src=staticImage4.src;" href="gaguidaan.htm"><IMG border=0 name=image4 alt="Clicca per accedere all'argomento" src="../images/help_home_Button_04_Roll-out.gif"></A></TD></TR><TR><TD colSpan=4><A href="http://www.ntsinformatica.it"><IMG border=0 alt="Clicca per accedere al sito di NTS Informatica" src="../images/help_home_Button_03_Roll-over-row.gif"></A></TD></TR><TR><TD bgColor=#009ee2 height=53 vAlign=middle colSpan=4 align=left><p><FONT class=title color=white size=6><b>Smart Business Framework</b></FONT></p></TD></TR><TR><TD vAlign=middle colSpan=4 align=left></TD></TR></TABLE><TABLE width=987 border=0>
<TR>
<TD>
<p>
<A name=_Toc251144227>
</A>
<A name=_Toc381706684>
<b>
<i>
<u>Avvio del programma (Smart Business Server)</u>
</i>
</b>
</A>
</p>
<p>Versione minima di android supportata: 4.0.0 (apilevel 14), si sconsiglia l'utilizzo di device di fascia bassa (tutti i test sono stati effettuati su Samsung Tab2 con rilsoluzione 1024 x 768). Versione minima di ios: 7 (ipad 2 requisito minimo, meglio iPad AIR). Il componente server SBS può essere istanziato (quindi può accettare altrettante connessioni dal client SBC) 15 volte per la versione a 32bit e 50 per la versione a 64bit. All'avvio si attiva un socket in attesa sulla porta impostata e si lancia <b>SBS (Smart Business Server</b>) dalla cartella di Business.</p>
<p>
<IMG src="../images/help_Amsbf_06.jpg">
</p>
<p>Si può disabilitare la partenza in automatico impostando come parametri di riga di comando, il numero della porta ed il parametro /NOSTART (per esempio: C:\programmi\bus\sbs64.exe 85 /NOSTART). Altri parametri sono /LOGFULL oppure /NOLOG.</p>
<p>Nel caso fossero presenti più schede di rete sulla macchina su cui gira SBS è possibile indicare il numero della scheda di rete da utilizzare con il parametro da riga di comando /NETWORK=-1 (-1 è la prima rete disponibile), altrimenti il numero di una delle schede di rete installate (NB: in questo caso è obligatorio indicare anche il numero della porta), per esempio: c:\BIZ2014\TEST\SBS64.exe 85 /NETWORK=1. All'avvio SBS elenca le schede di rete disponibili con a fianco il numero di riferimento.</p>
<p>
<IMG src="../images/help_Amsbf_05.jpg">
</p>
<p>
<IMG src="../images/help_Amsbf_07.jpg">
</p>
<p>Questa connessione rimarrà aperta fino a quando il client non avviserà di eseguire la disconnessione, o fino a quando il server non verrà chiuso/messo in stop. Se il client va in crash, oppure si chiude il client senza aver fatto la disconnessione, lato server, la sessione rimane aperta. Dopo che un client si è "loggato", può accedere ad una sessione precedentemente lasciata aperta con il comando 'connetti a sessione'. Possono essere riprese solo sessioni dove ci si era loggati con lo stesso user della sessione corrente e a parità di device!</p>
<p>Da tablet non è possibile avviare la stessa App più volte, per cui all'avvio viene verificato se era presente una sessione orfana e, nel caso, si collega direttamente.</p>
<p>La connessione del client sul server rimane attiva per 8 ore senza che il client lo contatti. Oltre tale tempo viene chiusa in automatico. Dalla SR1 è possibile configurare il timeout di inattività con client SBC perso. Proprio con tale SR il default è passato da 1 giorno (ex 24 ore) appunto ad ad 8 ore, ed è comunque configurabile da riga di comando di SBS con la direttiva /CON_LOST_TIMEOUT=minuti_di_time_out, che di default vale 480 (8 ore).</p>
<p>In questa modalità la password dell'operatore di business è sempre obbligatoria: <b>Operatore</b>, <b>password</b>, <b>database</b>, <b>profilo</b> di Business non devono contenere spazi e/o il carattere "|".</p>
<p>
<b>Tutto è sincrono</b>: parte sempre la richiesta dal child lato client. Il child lato server, se deve visualizzare una msgbox, ritorna allo stream di visualizzare il messaggio ed aspetta la risposta, il child lato remoto visualizzerà il messaggio e quando risponderà il child lato server continuerà l'operatività.</p>
<p>Per diminuire il traffico di rete, quando viene creato lo stream che descrive la form lato client vengono mappati solo gli eventi che lato server sono stati effettivamente collegati. Oltre a questi eventi, alcuni vengono sempre settati. Ad esempio per il textbox è mappato sempre l'evento lato client LEAVE, diversamente dopo aver modificato il testo lato client non ci sarebbe nessun evento che lo trasporterebbe lato server.</p>
<p>
<b>NOTA: è compilato per default per lavorare in modalità nativa anche a 64 bit, per cui in caso di installazione su pc x64 è necessario installare la runtime di crystal report 13 x64 e copiare le dll di crystal 13 .net (Crystaldecision.*) nella dir di Business.</b>
</p>
<p>
<b>ATTENZIONE: SBS.exe; attualmente può essere contattato solo da client con lunghezza del codice articolo di default, a 18 caratteri e lunghezza serie protocollo di 1 carattere (vedi Precisazione), tutte le sessioni che si collegano al quel SBS, devono avere la stessa impostazione; quando SBS parte istanzia BN__STD che sarà comune a tutte le sessioni di busnet che verranno avviate e le impostazioni suddette sono definitiva SHARED in CLN__STD, per cui in caso di diversi settaggi verrebbe sempre memorizzata ed utilizzata l'ultima impostata! </b>
</p>
<p>
<b>Precisazione: se ci sono aziende Aziende/Ditte che vogliono gestire articoli con codice con un numero di caratteri maggiore e/o Serie documenti/protocolli di 2/3 caratteri, deve essere lanciata un'altra sessione di SBS.</b>
</p>
<p>E' possibile far apparire il logo del rivenditore, basta che sia presente in BNIMAGES un file con nome 'sbs_logoriv.png' di dimensione 200x80.</p>
<p>
<b>
<i>
<u>SBS lanciato in esecuzione automatica all'avvio del sistema (da operazioni pianificate) </u>
</i>
</b>
</p>
<p>Se si avvia SBS da operazioni pianificate, dopo aver aperto un certo numero di sessioni di SBC (anche solo al menu, senza child aperti) viene scatenato l'errore 9 – impossibile creare l'handle. 
<br>
<IMG src="../images/help_Amsbf_01.jpg">
</p>
<p>
<W:WRAP type="square">
</W:WRAP>
</p>
<p>Ad esempio con SBS 2014, dopo aver lanciato e loggato 14 sbc , il 15 sbc non si logga. Stesso problema con un solo SBC attivo: se si fanno partire 14 BNORGSOR il 15 non si avvia e viene dato errore 9. Se invece di far partire il 15 BNORGSOR di fa partire BN__ZONE funziona (perché più piccolo). Questo è dovuto al fatto che l'avvio di SBS è stato fatto con una sessione NON INTERATTIVA (ovvero non collegata ad un monitor dove l'operatore può interagire con le applicazioni).</p>
<p>L'errore è dovuto alla diversa gestione della memoria dedicata. In una avvio di SBS tradizionale, guardando da task manager con 1 SBC collegato con 14 BNORGSOR aperti gli hndle sono 1ui 1300, gli 'oggetti utente' sono un certo numero maggiore di 0 e gli 'oggetti GDI' sono sui 1300. Se SBS è avviato da operazioni pianificate, gli handle sono 1950 mentre le altre due colonne sono sempre a 0. In una configurazione standard, come gli handle di una sessione NON INTERATTIVA (schedulata) superano i 2000 appare l'errore 9.</p>
<p>In windows c'è una opzione di registro che permette di configurare come la sessione di windows deve essere avviata quando un utente accede o fa partire una operazione schedulata senza bisogno che l'utente sia connesso. Il programma in analisi è c:\windows\system32\csrss.exe (ne viene fatto partire uno per ogni utente / sessione che si apre su windows) ed i parametri di avvio sono configurati dall'opzione di registro di windows "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\SubSystems", chiave "Windows"</p>
<p>
<IMG src="../images/help_Amsbf_02.jpg">
</p>
<p>
<b>La stringa di default per windows 8 è:</b> %SystemRoot%\system32\csrss.exe ObjectDirectory=\Windows SharedSection=1024,20480,768 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=sxssrv,4 ProfileControl=Off MaxRequestThreads=16</p>
<p>
<b>Per windows 2008 r2 è:</b> %SystemRoot%\system32\csrss.exe ObjectDirectory=\Windows SharedSection=1024,20480,768 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=winsrv:ConServerDllInitialization,2 ServerDll=sxssrv,4 ProfileControl=Off MaxRequestThreads=16</p>
<p>
<A name=_Toc381706685>
<i>
<u>
<b>Configurazione di SBC (Smart Business Client) </b>
</u>
</i>
</A>
</p>
<p>Dopo avere lanciato il componente in Windows o l'APP su Android/IOS, bisogna configurare in Impostazioni le Connessioni con i Server SBS. <b>Operatore</b>, <b>password</b>, <b>database</b>, <b>profilo</b> di Business non devono contenere spazi e/o il carattere "|".</p>
<p>
<IMG src="../images/help_Amsbf_08.jpg">
</p>
<p>
<b>Descrizione</b> inserire la descrizione del Server al quale ci si vuole collegare che apparirà in alto a sinistra.</p>
<p>
<b>Server:Porta</b> indicare il <b>nome del server o l'indirizzo IP del server (meglio il secondo)</b> al quale della connessione, poi a fianco senza lasciare spazi indicare dopo il carattere ":", la porta di ascolto del server SBS.</p>
<p>
<b>Utente</b> indicare il nome dell'Operatore di Business con il quale si vuole accedere.</p>
<p>
<b>Password</b> (**) è opzionale e <u>se non impostata verrà chiesta </u>al momento della connessione.</p>
<p>
<IMG src="../images/help_Amsbf_09.jpg">
</p>
<p>
<b>Profilo Database Ditta</b> indicare in successione, intercalati da uno spazio fra uno e l'altro, il Profilo di Business, il Database sul quale si intende operare e la ditta.<b>
</b>
</p>
<p>
<b>Programma</b> (*) <u>possibilità di inserire in modo opzionale il programma da lanciare alla </u>
<u>connessione</u>. Se seguito da <u>parametro </u>
<u>restricted</u>
<u>/R </u>questo disabilita il menu e quando si chiude il programma si disconnette in automatico, per esempio: BNREMENU.FRMREMENU /R</p>
<p>
<b>Finestra Tablet</b> solo su Windows è possibile decidere se utilizzare le form per tablet o quelle standard da PC (con il check Usa Form Tablet): in ripresa di sessione vengono ricaricate le form come erano state caricate nella sessione precedente, indipendentemente dal flag 'USA FORM TABLET'.</p>
<p>
<b>Comprimi Flusso</b> per client Windows è possibile indicare se si desidera comprimere o meno il flusso di rete tra client e server. Per tablet IOS/ANDROID il flusso di rete è sempre compresso.</p>
<p>
<b>
<i>
<u>Note su SBC Windows™ Android™ iPad™:</u>
</i>
</b>
</p>
<p>Resize delle colonne di griglia e altezza righe. Su SBC Windows™ tutto come in modalità desktop, su Android™/iPad™ per allargare le colonne basta cliccate e tener premuto sull'intestazione di colonna; la cella diverrà verde e sarà possibile ridimensionarla. Per l'altezza della riga , con un click sull'intestazione di riga la riga viene alzata di 15 pixel, con un long click viene ridotta di 15 pixel.</p>
<p>Gestito il programma 'chiama con skype' su SBC (BN__SKYP).</p>
<p>Se sono state inserite delle <u>icone personalizzate sul menu </u>
<u>preferiti</u>, queste vengono <u>mostrate anche </u>
<u>su menu </u>
<u>SBC.</u>
</p>
<p>
<u>
<IMG src="../images/help_Amsbf_14.jpg">
</u>
</p>
<p>Quando gli zoom articoli e clienti vengono avviati con SBC in modalità tablet, vengono eliminati una serie di filtri per rendere più veloce l'apertura degli zoom. Se si vuole tornare allo zoom completo è presente una spunta "Mostra tutti i filtri". L'applicazione del flag richiede il riavvio dello zoom, ed è recentato.</p>
<p>
<b>
<i>
<u>Note su SBC Android™ iPad™:</u>
</i>
</b>
</p>
<p>Inserita <u>gesture</u>
<u>di trascinamento con due dita da sinistra a destra per mostrare il menu con connetti, disconnetti</u>, programmi aperti ... Se si è in modale il menu è comunque visualizzato, ma è bloccato.Gesture opposta per nasconderlo.</p>
<p>Possibilità di memorizzare le coordinate GPS di SBC da Android™/iPad™, se nel device è stato spuntato di comunicare le proprie coordinate GPS.</p>
<p>
<IMG src="../images/help_Amsbf_16.jpg">
</p>
<p>Quando l'APP è in esecuzione (in primo piano), <u>ogni 5 minuti viene inviato al server un messaggio con le coordinate </u>
<u>geografiche</u>. Ovviamente occorre che sul device il GPS sia attivo. Informazione memorizzata sulla tabella CONNESS di ARCPROC sulla colonna cn_gpscoorc.</p>
<p>
<IMG src="../images/help_Amsbf_17.jpg">
</p>
<p>
<b>
<i>
<u>Note su SBC Android™:</u>
</i>
</b>
</p>
<p>
<u>Comportamento tasto Back</u>, fino a che non si è connessi esce dall'APP, una volta connessi è come se si premesse il tasto Home e rientrando in SBC ci si ritrova sul programma precedentemente aperto.</p>
<p>I Tablet Android™ in commercio hanno le risoluzioni più disparate, partendo da quella minima supportata di 1024x600 da SBC, per esempio: 1024x768, 1280x768, 1280x800, 1536x1152, 1920x1152, 1920x1200, 2048x1536, 2560x1536, 2560x1600. Quindi a seconda della risoluzione del Tablet Android™, è possibile che appaiano due bande laterali nere, rispettivamente a sinistra e a destra, dell'APP. Nelle impostazioni è disponibile una <u>configurazione che permette di scegliere una percentuale di aumento dell'APP (5%, 10%, 20%, 30%)</u>, andando di conseguenza a diminuire le bande nere laterali.</p>
<p>
<IMG src="../images/help_Amsbf_13.jpg">
</p>
<p>Attenzione impostando tale percentuale è possibile che si deva poi effettuare un scroll verticale per vedere tutti i campi. Su SBC-iPad™ questo problema non c'è visto che è su iPad™ la risoluzione è adatta sempre per 1024x768. Su SBC-Windows™ c'è la spunta Finestre tablet.</p>
<p>
<IMG src="../images/help_Amsbf_10.jpg">
</p>
<p>Colonne di griglia di tipo TEXTBOX MULTI LINEA (memo) su Windows è disponibile il comando ALT+F1 per fare vedere il testo in una casella più grande, su ios/android è disponibile un comando tipo 'zoom' per far fare la stessa cosa.</p>
<p>
<A name=_Toc381706686>
<i>
<u>
<b>SBC su PC Mac</b>
</u>
</i>
</A>
</p>
<p>Innanzitutto Bisogna utilizzare WineSkin (testato con mac mavericks tramite WineSkin 1.7) <A href="http://wineskin.urgesoftware.com/tiki-index.php">http://wineskin.urgesoftware.com/tiki-index.php</A> per installarlo:</p>
<ul>
<li>scaricare "Wineskin Winery.app Version 1.7.zip", dezipparlo ed avviare "Wineskin Winery.app"
<li>clicare su "+", dalla form che appare scegliere "WS9Wine1.7.7" e cliccare su "download and install"
<li>se appare il messaggio "Update available", cliccare su "Update" (come minimo aggiornerà alla wineskin 2..5.12)
<li>Cliccare su "create new blank wrapper", dare il nome SBC + OK
<li>Chiudere "Wineskin winery"
<li>Lanciare la nuova app "SBC.app" già presente a menu, oppure raggiungibile da ~/Applications/Wineskin e cliccare su ADVANCED -&gt; Tools e cliccare su winetricks ed installare dotnet20sp2 (in caso di problemi, installare dotnet20). Se avvisa di riavvviare, farlo: riavvisa solo wine ...
<li>Con lo stesso sistema installare 7zip
<li>Con lo stesso sistema, installare font-&gt;all
<li>Con lo stesso sistema installare firefox (servirà per scaricare adobe acrobat) al termine dell'installazione avviare firefox, scaricare adobe reader 5 ed installarlo
<li>Chiudere winetricks
<li>Da wine skin scegliere 'install software' -&gt;copy folder inside e selezionare la dir di "SBC" che contiene tutto quello che serve a sbc.exe per partire come se fosse sotto windows xp e come programma di avvio lasciare quello che propone "/program files/sbc/sbc.exe"
<li>Su ADVANCED -&gt; Tools cliccare su 'set screen options' e spuntare 'use mac drive instead of x11'
<li>Chiudere winwskin
<li>Lanciare nuovamente la app da menu : deve partire in automatico SBC.EXE.</li>
</ul>
<p>
<b>
<br>
</b>
</p>
<p>
<A name=_Toc381706687>
<b>
<i>
<u>Stampe</u>
</i>
</b>
</A>
</p>
<p>Con SBC Windows è possibile stampare direttamente su carta, sia su stampanti configurate sul server SBS, che con stampanti configurate solo su SBC; dall'elenco delle stampanti sul server vengono prese tutte le stampanti che non contengono la parola PDF e FAX, perchè lato server potrebbero avere una interfaccia grafica che blocca SBS, per il corretto funzionamento SBC richiede i seguenti files presenti nella dir di SBC.EXE: PrintPdf.exe, PrintPdf.pdb, itextsharp.dll e gsdll32.dll.</p>
<p>Con gli altri SBC non si può stampare su carta, ma solo a video.</p>
<p>La stampa a video viene tradotta lato server in un file ".pdf" che viene inviato al client che successivamente lo renderizzerà: la stampa si appoggia a be__crpeex.exe se non si utilizza come motore di stampa Crystal report 13.</p>
<p>Per Windows deve essere installato un programma per visualizzare i PDF.</p>
<p>Dopo la stampa a video non è possibile ruotare il foglio in orizzontale/verticale, per cui è necessario che la stampa sia impostata già dall'origine con l'orientamento corretto (con la formula NTSORIENTATION).</p>
<p>Su Android i files .pdf vengono salvati in <b>/mnt/sdcard/sbc_tmp/ </b>e, in caso di multireport, vengono stampati tutti ma viene visualizzato solo l'ultimo file. In IOS vengono salvati i files è : /<b>private/var/mobile/Applications/<i>id_app_xxxx</i>/Documents/sbc_tmp.</b>
</p>
<p>
<b>IMPORTANTE</b>: <i>non devono essere realizzati Report con richiesta di campi parametro, questi campi infatti verrebbero richiesti lato server, bloccando l'elaborazione.</i>
</p>
<p>Per superare questo limite occorre impostare busnet.exe/sbs per utilizzare la runtime di crystal report 13 (si attiva in automatico se il server SBS gira su un pc a 64 bit e sbs.exe è compilato senza la limitazione 'x86' al posto di 'AnyCPU', oppure settando l'opzione di registro '<b>Business/OPZIONI/UsaCRPENet = -1'</b>. Si rammenta che la runtime di crystal report 13 non viene distribuita/installata con il setup di Business NET 2014. Al momento è scaricabile da <A href="http://scn.sap.com/docs/DOC-7824">http://scn.sap.com/docs/DOC-7824</A> (la versione da utilizzare è la 13.0.7).</p>
<p>Per evitare problemi di blocco lato SBS.EXE, la stampa si chiude comunque dopo un tempo di 30 secondi! In questo modo il server al massimo rimane in attesa di un input utente per richiesta di campo parametro per al max 30 secondi. Se i file da scaricare da SBS a SBC è superiore ad 1 MB viene chiesto all'utente (lato SBC) una richeista di conferma se eseguire o meno il download, in quanto file grossi potrebbero causare blocchi prolungati (o in alcuni casi crash) dell'applicazione.</p>
<p>Stampe e Documenti su Word/Download/Upload. Per trasferire i file dalla device al server e viceversa, bisogna utilizzate Dropbox, o strumenti analoghi.</p>
<p>
<b>
<i>
<u>SBC ed impostazioni internazionali </u>
</i>
</b>
</p>
<p>SBC ignora le impostazioni internazionali del sistema operativo su cui gira ed applica sempre quelle del sistema operativo su cui gira SBS, oppure, se impostati, utilizza i parametri di configurazione dell'utente di Business. Ad esempio, se l'utente di Business non ha nessuna lingua impostata in gestione operatori, SBS passa a SBC le impostazioni del pannello di controllo di windows (normalmente "it-IT"). Se invece l'utente di Business ha una lingua impostata in gestione operatori (per esempio inglese "en-GB"), come all'avvio di Business vengono ignorate le impostazioni del pannello di controllo di windows, anche con SBC vengono applicare le regole "en-GB".</p>
<p>
<b>
<i>
<u>SBC solo Windwos aggiornamenti automatici</u>
</i>
</b>
</p>
<p>Solo per SBC Windows, ad ogni avvio quando contatta il server avvisa della propria versione, il server verifica se nella dir di setup di SBC (la \agg\SBC\Windows\) è presente un file che si chiama come sbc con l'aggiunta di upgrade (es sbc2014.exe -&gt; sbc2014upgrade.exe): se presente verifica che sia di versione più aggiornata di quella del client e, nel caso, avvisa il client che provvederà a scaricare l'aggiornamento e ad avviare la sua installazione!</p>
<p>
<b>
<i>
<u>Server WEB con SBS</u>
</i>
</b>
</p>
<p>SBS può fare anche da piccolo server WEB, per pagine html o download di file (anche molto grossi), la webdir è la sottodirectory denominata 'Web' contenuta nella dir di sbs.exe. Per esempio:</p>
<p>
<IMG src="../images/help_Amsbf_03.jpg">
<br>
</p>
<p>
<A name=_Toc381706688>
<i>
<u>
<b>Limiti attuali della soluzione</b>
</u>
</i>
</A>
</p>
<p>Se durante la comunicazione tra client e server (o viceversa) la connessione cade la sessione viene distrutta. Se la connessione cade lato server tutto l'ambiente va in crash.</p>
<p>Interfaccia Business For People: gli utenti non verranno mai visti come 'social' (non vanno le me.invoke...)</p>
<p>Alt+F2 / ALT+F3 su controllo zoomabile: c'è solo l'ALT+F3 e lo si fa con 'long click'.</p>
<p>Autocompletamento su campi zoomabili: su client IOS/Android l'autocompletamento visualizza solo le colonne CODICE E DESCRIZIONE.</p>
<p>Stampa su word e/o PDF con invio automatico: è disponibile solo con il modulo PEC-MAIL abilitato.</p>
<p>Stampa su word: se eseguita quando SBS è stato fatto eseguire all'accensione del PC dalle operazioni pianificate (quindi senza che l'utente si sia loggato) è possibile che la stampa su word tramite l'utilizzo di WinWord non funzioni e venga generato un errore di COM EXCEPTION: è lo stesso problema di chi cerca di utilizzare word da IIS (e che aveva anche busweb): per la pericolosità di word, microsoft ha inserito tutta una serie di controlli/blocchi che rendono praticamente inutilizzabile word se non si è loggati. L'unica soluzione è utilizzare motori alternativi, come ad esempio libreoffice</p>
<p>Eventuali file ABI/BONIFICI/RID/MAV/F24/INTRASTAT generati lato server, se elaborati da SBC vengono automaticamente scaricati sul client.</p>
<p>La configurazione delle maschere (eccetto il vecchi CTRL+ALT+F2) non è accessibile. Per la configurazione delle griglie basta cliccare sulla griglia nella prima cella in alto a SX.</p>
<p>Le griglie sul client non sono ordinabili/filtrabili: solo per client windows è possibile ordinare/filtrare le colonne come in busnet standard, ma non sono presenti i layout di salvataggio e in chiusura programma non viene memorizzato l'eventuale ordinamento delle righe (sort) per poterlo riproporre la volta successiva. Export griglia/stampa griglia disponibile solo su client Windiows.</p>
<p>ANDOID/IOS – gestione della tastiera software: quando appare la tastiera per default la form sotto NORMALMENTE non si sposta per fare in modo che il textbox che ha il focus sia visibile sopra alla tastiera, ma, manualmente, l'operatore deve far scrollare la form verso l'alto. Il comportamento è voluto perché su android, con child con molti controlli, la show/hide della tastiera comporta un forte rallentamento per calcolare di quanto spostare il child sottostante. La soluzione adottata permette di visualizzare/nascondere la tastiera più velocemente. Inoltre, per il fatto che il child sottostante può essere mosso verticalmente, quando l'operatore non è in visualizzazione ma in editing di controlli (ad esempio per inserire un ordine) non deve far apparire/sparire la tastiera per passare a controlli nascosti dalla stessa! Per lo stesso motivo SBC disabilita il T9 sulla tastiera software. NB: quanto sopra dipende dalla versione di android, per cui è possibile che in alcune versione il comportamento predetto non venga applicato.</p>
<p>Colore delle ditte nei programmi (impostato da anagrafica ditta): SBC non gestisce questa funzionalità</p>
<p>Problemi di memoria. La memoria massima utilizzabile su sistemi a 32 bit è 2GB, per cui le possibilità sono: impostare il numero massimo di connessioni per ogni SBS a 20, 30, 50 in base a quanta memoria normalmente viene allocata da un utilizzatore, oppure modificare pesantemente SBS per accettare connessioni sulla porta 85 e successivamente non lanciare un nuovo thread ma un nuovo process dicendogli di stare in ascolto su una specifica porta (es 86, 87, eccc) e comunicare la nuova porta all'SBC che ha chiesto di connettersi (che si riconnetterà sulla nuova porta dove c'è in RUN un nuovo SBS aperto in modo univoco su quella porta. In pratica in un SBS per ogni client SBC.</p>
<p>Solo windows: SBC.EXE sulla stessa macchina dove gira SBS.EXE: sbs.exe interagisce con l'utente in modo nascosto, per cui è possibile/normale che faccia perdere il focus ai programmi che girano sullo stesso pc con lo stesso utente loggato!!!! Per risolvere questo problema basta che sullo stesso pc SBS.EXE venga fatto eseguire da un utente diverso da quello con cui si lavora abitualmente (tipo terminal server) o far partire SBS.EXE da operazioni pianificate all'avvio del pc, con un utente diverso da quello che si userà per l'attività giornaliera in windows.</p>
<p>Eventi enter e leave: se quando entro in un controllo (e conseguentemente esco da un altro) se dal controllo da cui esco eseguo una funzione che farà apparire una form in modo modale, quando la form si chiuderà il focus non verrà dato al controllo in cui dovevo entrare (e comunque tale controllo avrà .Containsfocus = false).</p>
<p>
<b>Riepilogo limiti</b>
</p>
<ul>
<li>datawareouse (anche dal desktop consolle) non supportato, in realtà è possibile vedere (come immagini) i cruscotti ed il grafico del DWH (anche dal desktop consolle). Per il pivot, ad oggi l'unico modo è utilizzare il comando 'esporta come xls' dal menu standard del DWH.
<li>business e-mail (solo PEC email e solo nella parte di invio email con possibile integrazione solo in formato testo); non supportata la console email per gestire la posta e la sincronizzazione
<li>Customer service maps view non supportato
<li>Gestione File (non è possibile accedere a directory diverse da OFFICE o una sua subdir)
<li>aprire programmi come explorer, outlook, ecc dal client (la <b>process.start</b> verrebbe avviata sul server e non sul client)
<li>flusso documentale (NON in formato grafico)
<li>stampare direttamente su stampante e/o reg. di cassa
<li>gestione dei colori limitata alle sole griglie e alle label (no altri controlli)
<li>gestione di eventi/proprietà dei controlli che non sono elencati tra quelli gestiti da SBC (vedi circolare tecnica)
<li>Con Crystal Report 2008 i report non devono richiedere parametri in input (non campi PARAMETRO sul report con richiesta valori durante l'esecuzione del report): questi report non vengono eseguiti e viene dato il messaggio di time-out. (limite superato con crystal report 2011)
<li>NON CI SONO GLI SHORTCUTS per voci di menu su IOS/ANDROID (su Windows si)
<li>Griglia: non sono presenti le funzioni del menu a sinistra della griglia (cerca, visualizza menu, salva layout, richiama layout, ecc). Solo su windows è possibile filtrare/ordinare le righe.
<li>
<b>STAMPE</b>: è possibile che diverse stampe vengano portate lato client troncate perché disegnate in portrait ma predisposte in landscape, provvederemo progressivamente ad inserire sul report la NTSORIENTATION, su segnalazione dei Partner. <b>Attenzione!</b> Se la stampante predefinita di Windows o quella impostata da Opzione di Registro all'Avvio di SBS, non supporta l'orientamento in Landscape anche stampa correttamente impostate in orizzontale, vengono riprodotte in verticale con troncamento della parte destra.</li>
</ul>
</TD></TR></TABLE><TABLE border=0 cellSpacing=0 cellPadding=0><TR><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/software-retail-negozi/"><IMG border=0 src="../images/help_home_01_Gestisci.gif"></A></TD><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/controllo-di-gestione/"><IMG border=0 src="../images/help_home_02_Controlla.gif"></A></TD><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/crm/"><IMG border=0 src="../images/help_home_03_Fidelizza.gif"></A></TD><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/analisi-dati-datawarehouse/"><IMG border=0 src="../images/help_home_04_DWH.gif"></A></TD><TD vAlign=center width=169 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/project-management/"><IMG border=0 src="../images/help_home_05_Gestisci.gif"></A></TD><TD vAlign=center width=146 align=right><IMG border=0 src="../images/help_home_NTS_logo_up.gif"></TD></TR><TR><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/logistica/"><IMG border=0 src="../images/help_home_06_Organizza.gif"></A></TD><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/customer-service/"><IMG border=0 src="../images/help_home_07_Gestisci.gif"></A></TD><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/produzione/"><IMG border=0 src="../images/help_home_08_Pianifica.gif"></A></TD><TD vAlign=center width=168 align=middle><A href="http://www.ntsinformatica.it/software-erp-medie-imprese/software-erp/archiviazione-documenti/"><IMG border=0 src="../images/help_home_09_Archivia.gif"></A></TD><TD vAlign=center width=169 align=right><IMG border=0 src="../images/help_home_NTS_logo_down1.gif"></TD><TD vAlign=center width=146 align=right><A href="http://www.ntsinformatica.it"><IMG border=0 alt="Clicca per accedere al sito di NTS Informatica" src="../images/help_home_NTS_logo_down2.gif"></A></TD></TR><TR><TD width=987 colSpan=6><IMG border=0 src="../images/help_home_Line.gif"></TD></TR></TABLE></body></html>